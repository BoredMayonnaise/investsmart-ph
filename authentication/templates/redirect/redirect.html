{% load static %}
<!DOCTYPE html>
<html lang="en" x-data="{ countdown: 3 }" x-init="let interval = setInterval(() => {
    if (countdown > 0) countdown--; else clearInterval(interval);
}, 1000)">
<head>
    <meta charset="UTF-8">
    <title>Redirecting...</title>
    <!-- Primary Meta Refresh -->
    <meta http-equiv="refresh" content="3; url={% url target_url %}">

    <!-- Primary JavaScript Redirect -->
    <script>
        setTimeout(() => {
            window.location.href = "{% url target_url %}";
        }, 3000);

        // Secondary fallback redirect after 6 seconds
        setTimeout(() => {
            if (window.location.href !== "{% url target_url %}") {
                window.location.replace("{% url target_url %}");
            }
        }, 6000);
    </script>

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    <link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
</head>
<body class="bg-gray-100 flex items-center justify-center h-screen" x-init="AOS.init()">
    <div class="text-center" data-aos="fade-up" data-aos-duration="1000">
        <div class="flex justify-center mb-4">
            <svg class="animate-spin h-10 w-10 text-blue-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v8H4z"></path>
            </svg>
        </div>
        <h2 class="text-xl font-semibold text-gray-700 mb-2">Redirecting in <span x-text="countdown"></span> seconds...</h2>
        <p class="text-sm text-gray-500 mb-4">If you're not redirected, click the button below.</p>
        <a href="{% url target_url %}" class="inline-block px-5 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition">
            Go Now
        </a>
    </div>
</body>
</html>
